<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>AVS Paint Editor 7.1.1 (Unofficial)</title>
<style>
body { font-family: monospace; background-color: #000; color: #0f0; text-align:center; padding:20px; }
#titulo { white-space: pre; margin-bottom: 20px; }
button { padding:5px 10px; margin:3px; font-size:14px; cursor:pointer; }
#menu, #canvasDiv, #about, #activation { display:none; text-align:center; }
canvas { border:2px solid #0f0; background-color:#000; cursor:crosshair; }
input { font-size:16px; padding:5px; margin:3px; }
pre.tip { color:yellow; font-size:14px; }
#controls { margin:10px; }
</style>
</head>
<body>

<pre id="titulo">
=====================================
   AVS PAINT EDITOR 7.1.1 (UNO)
=====================================
</pre>

<!-- ACTIVATION -->
<div id="activation">
<p>This software is FREE for everyone.</p>
<p>Enter activation code:</p>
<input type="text" id="userCode" placeholder="AVS-PAINT-1234">
<button onclick="activar()">Activate</button>
<pre id="error" style="color:red;"></pre>
<pre class="tip">Tip: The code must start with AVS-PAINT- followed by numbers. Example: AVS-PAINT-1234</pre>
</div>

<!-- MENU -->
<div id="menu">
<button onclick="mostrarCanvas()">1. Nuevo dibujo</button>
<button onclick="mostrarAbout()">2. About</button>
<button onclick="salir()">3. Exit</button>
</div>

<!-- CANVAS -->
<div id="canvasDiv">
<canvas id="paintCanvas" width="600" height="400"></canvas>
<div id="controls">
    <button onclick="limpiarCanvas()">Nuevo dibujo</button>
    <button onclick="mostrarMenu()">Volver al menú</button>
    <label>Color: <input type="color" id="colorPicker" value="#00FF00"></label>
    <label>Grosor: <input type="number" id="sizePicker" value="4" min="1" max="20"></label>
    <button onclick="guardarImagen()">Guardar</button>
    <button onclick="compartirImagen()">Compartir</button>
</div>
</div>

<!-- ABOUT -->
<div id="about">
<p>AVS Paint Editor 7.1.1 - Version Mejorada</p>
<p>Type: UNOFFICIAL</p>
<p>Language: EN / ES</p>
<p>License: FREE</p>
<button onclick="mostrarMenu()">Volver al menú</button>
</div>

<script>
// --- Variables ---
var activationDiv = document.getElementById('activation');
var menuDiv = document.getElementById('menu');
var canvasDiv = document.getElementById('canvasDiv');
var aboutDiv = document.getElementById('about');
var canvas = document.getElementById('paintCanvas');
var ctx = canvas.getContext('2d');
var dibujando = false;
var color = document.getElementById('colorPicker').value;
var grosor = parseInt(document.getElementById('sizePicker').value);

// ---- Activación ----
function activar() {
    var code = document.getElementById('userCode').value;
    var errorDiv = document.getElementById('error');
    if (code.indexOf("AVS-PAINT-") === 0) {
        activationDiv.style.display = 'none';
        menuDiv.style.display = 'block';
        errorDiv.innerHTML = "";
    } else {
        errorDiv.innerHTML = "Invalid activation code!";
    }
}

// ---- Dibujo ----
canvas.onmousedown = function(e){ dibujando=true; dibujar(e); };
canvas.onmouseup = function(){ dibujando=false; };
canvas.onmouseleave = function(){ dibujando=false; };
canvas.onmousemove = dibujar;

function dibujar(e) {
    if (!dibujando) return;
    var rect = canvas.getBoundingClientRect();
    var x = e.clientX - rect.left;
    var y = e.clientY - rect.top;
    color = document.getElementById('colorPicker').value;
    grosor = parseInt(document.getElementById('sizePicker').value);
    ctx.fillStyle = color;
    ctx.fillRect(x-grosor/2, y-grosor/2, grosor, grosor);
}

function limpiarCanvas() {
    ctx.fillStyle="#000";
    ctx.fillRect(0,0,canvas.width,canvas.height);
}

// ---- Guardar y compartir ----
function guardarImagen() {
    var link = document.createElement('a');
    link.download = "AVS_Paint.png";
    link.href = canvas.toDataURL("image/png");
    link.click();
}

function compartirImagen() {
    var dataURL = canvas.toDataURL("image/png");
    var win = window.open();
    win.document.write("<img src='"+dataURL+"' alt='AVS Paint Image'>");
}

// ---- Menú ----
function mostrarCanvas() { menuDiv.style.display='none'; aboutDiv.style.display='none'; canvasDiv.style.display='block'; limpiarCanvas(); }
function mostrarAbout() { menuDiv.style.display='none'; canvasDiv.style.display='none'; aboutDiv.style.display='block'; }
function mostrarMenu() { canvasDiv.style.display='none'; aboutDiv.style.display='none'; menuDiv.style.display='block'; }
function salir() { alert("Gracias por usar AVS Paint Editor 7.1.1!"); }

// Inicialización
activationDiv.style.display='block';
</script>

</body>
</html>

